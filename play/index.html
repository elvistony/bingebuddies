<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BingeBud | Elvis Tony</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/flix.css">
    <link href="https://vjs.zencdn.net/8.16.1/video-js.css" rel="stylesheet" />
</head>
<body>
    <div class="start-container">
        <button class="start-button">Ready</button>
    </div>
    <video src="../assets/video/wait.mp4" loop="true"  autoplay class="video-background" id="videoplayer" >   </video>

    

    <div class="controls-overlay" id="controlsOverlay">
        <div class="pos-abs video-title">
            <h5 id="videoDesc">Searching for Peers</h5>
            <h1 id="videoTitle">BingeBud</h1>
        </div>
        <button class="rewind pos-abs control-button" id="rewindBtn"><i class="fas fa-undo"></i><sub> 10s</sup></button>
        <button class="forward pos-abs control-button" id="forwardBtn"><i class="fas fa-redo"></i><sub>10s</sub></button>
        <div class="pos-abs room-specs">
            <h4 >Buddies: <span class="buddy-count" id="membersCount">0</span></h4>
            <h4 ><small>Code:</small> <span id="RoomCode" class="room-code"></span></h4>
            
        </div>
        <div class="controls">
            <div class="left-controls">
                <button id="playPauseBtn" class="control-button">
                    <i class="fas fa-play play-pause" id="playPauseIcon"></i>
                </button>
            </div>
            <div class="middle-controls">
                <div class="timestamps" id="startTime">00:00:00</div>
                <div class="progress-bar-container">
                    <div class="progress-bar"></div>
                </div>
                <div class="timestamps" id="endTime">00:00:00</div>
            </div>
            
            <div class="right-controls">
                <button class="control-button control-button-mini" is="google-cast-button"  id="volume-control">
                    <i class="fas fa-wifi"></i>
                </button>
                <button class="control-button control-button-mini" id="syncNow">
                    <i class="fas fa-refresh" ></i>
                </button>
                <button id="fullscreenBtn" class="control-button">
                    <i class="fas fa-compress fullscreen" id="fullscreenIcon"></i>
                </button>
            </div>
        </div>
    </div>
<script src="../assets/js/flixplayer.js"></script>
<!-- <script src="/assets/js/script.js"></script> -->
<script src="../bundle.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script> -->
<script src="https://vjs.zencdn.net/8.16.1/video.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script> -->
<script>
window.__onGCastApiAvailable = function(isAvailable) {
    if (!isAvailable) {
        return false;
    }

    var castContext = cast.framework.CastContext.getInstance();

    castContext.setOptions({
        autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,
        receiverApplicationId: chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID
    });

    var stateChanged = cast.framework.CastContextEventType.CAST_STATE_CHANGED;
    castContext.addEventListener(stateChanged, function(event) {
        var castSession = castContext.getCurrentSession();
        
        // Create a media info object with a webpage URL
        var media = new chrome.cast.media.MediaInfo(document.location, 'text/html');
        
        var request = new chrome.cast.media.LoadRequest(media);

        castSession && castSession
            .loadMedia(request)
            .then(function() {
                console.log('Success');
            })
            .catch(function(error) {
                console.log('Error: ' + error);
            });
    });
};

</script>
<script src='https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1'></script>
</body>
</html>
